<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Student Management System</title>

    <style>
        :root {
          --bg: #f5f7fa;
          --card: #ffffff;
          --text: #222;
          --border: #ddd;
          --primary: #b6ddff;
        }

        body.dark {
          --bg: #121212;
          --card: #1e1e1e;
          --text: #f1f1f1;
          --border: #333;
          --primary: #3a7bd5;
        }

        * {
          box-sizing: border-box;
          font-family: "Segoe UI", Tahoma, sans-serif;
        }

        body {
          background: var(--bg);
          padding: 30px;
          color: var(--text);
        }

        .container {
          max-width: 1000px;
          margin: auto;
          background: var(--card);
          border-radius: 10px;
          padding: 25px;
          border: 1px solid var(--border);
        }

        /* Header */
        .header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          border-bottom: 1px solid var(--border);
          padding-bottom: 15px;
        }

        .header h1 {
          margin: 0;
        }

        .header-actions {
          display: flex;
          gap: 10px;
        }

        button {
          cursor: pointer;
          border-radius: 8px;
          border: none;
          padding: 8px 16px;
        }

        .add-btn {
          background: var(--primary);
        }

        .dark-btn {
          background: #444;
          color: #fff;
        }

        /* Cards */
        .students {
          margin-top: 30px;
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 20px;
        }

        .student-card {
          border: 1px solid var(--border);
          border-radius: 12px;
          padding: 20px;
          display: flex;
          gap: 15px;
          background: var(--card);
        }

        .avatar {
          width: 70px;
          height: 70px;
          border-radius: 50%;
          border: 2px solid var(--border);
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          font-size: 22px;
        }

        .actions {
          margin-top: 10px;
          display: flex;
          gap: 10px;
        }

        .edit {
          background: #9ee5aa;
        }

        .delete {
          background: #ffaaaa;
        }

        /* Modal */
        .modal {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.5);
          display: none;
          align-items: center;
          justify-content: center;
        }

        .modal-content {
          background: var(--card);
          padding: 25px;
          border-radius: 12px;
          width: 320px;
        }

        .modal-content h3 {
          margin-top: 0;
        }

        .modal-content input {
          width: 100%;
          padding: 8px;
          margin: 8px 0;
        }

        .modal-actions {
          display: flex;
          justify-content: flex-end;
          gap: 10px;
          margin-top: 15px;
        }

        /* Footer */
        .footer {
          margin-top: 40px;
          text-align: center;
          font-size: 14px;
          border-top: 1px solid var(--border);
          padding-top: 10px;
        }
    </style>
</head>

<body>
<div class="container">

    <div class="header">
        <h1>Students</h1>
        <div class="header-actions">
            <button class="add-btn" onclick="openModal()">Add</button>
            <button class="dark-btn" onclick="toggleDark()">üåô</button>
        </div>
    </div>

    <div class="students" id="students"></div>

    <div class="footer">
        ¬© Student Management System 2026 | Developed by Chetan ‚ù§Ô∏è
    </div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
    <div class="modal-content">
        <h3 id="modalTitle">Add Student</h3>

        <input type="text" id="name" placeholder="Name">
        <input type="email" id="email" placeholder="Email">
        <input type="number" id="age" placeholder="Age">

        <div class="modal-actions">
            <button onclick="closeModal()">Cancel</button>
            <button onclick="saveStudent()">Save</button>
        </div>
    </div>
</div>

<script>
    let students = [];
    let editIndex = null;

    function renderStudents() {
      const container = document.getElementById("students");
      container.innerHTML = "";

      students.forEach((s, i) => {
        container.innerHTML += `
          <div class="student-card">
            <div class="avatar">${s.name[0]}</div>
            <div>
              <p><b>Name:</b> ${s.name}</p>
              <p><b>Email:</b> ${s.email}</p>
              <p><b>Age:</b> ${s.age}</p>
              <div class="actions">
                <button class="edit" onclick="editStudent(${i})">Edit</button>
                <button class="delete" onclick="deleteStudent(${i})">Delete</button>
              </div>
            </div>
          </div>
        `;
      });
    }

    function openModal() {
      editIndex = null;
      document.getElementById("modalTitle").innerText = "Add Student";
      document.getElementById("modal").style.display = "flex";
      clearForm();
    }

    function closeModal() {
      document.getElementById("modal").style.display = "none";
    }

    function clearForm() {
      name.value = email.value = age.value = "";
    }

    function saveStudent() {
      const student = {
        name: name.value,
        email: email.value,
        age: age.value
      };

      if (editIndex === null) {
        students.push(student);
      } else {
        students[editIndex] = student;
      }

      closeModal();
      renderStudents();
    }

    function editStudent(index) {
      editIndex = index;
      const s = students[index];
      name.value = s.name;
      email.value = s.email;
      age.value = s.age;
      modalTitle.innerText = "Edit Student";
      modal.style.display = "flex";
    }

    function deleteStudent(index) {
      if (confirm("Are you sure you want to delete this student?")) {
        students.splice(index, 1);
        renderStudents();
      }
    }

    function toggleDark() {
      document.body.classList.toggle("dark");
    }

    renderStudents();

</script>

</body>
</html>
